{% from 'scientist.html.jinja2' import scientist_card, scientist_css %}
{% from 'invention.html.jinja2' import invention_card, invention_css %}
{% from 'misc.html.jinja2' import position_card, center_card, coin, misc_css %}

{% set players = 6 %}
{% set positions_num = {
    'Bachelor': 3 * players + 2,
    'Master': 3 * players,
    'PhD': 3 * players + 2,
} %}

<html>
<head>
    <script src="https://kit.fontawesome.com/f91633afc7.js" crossorigin="anonymous"></script>
    <style>
        :root {
            --border-color: #506381;

            --bachelor-color: #C8C8C8;
            --master-color: #8c8c8c;
            --phd-color: #656364;

            --tech-color: #D65743;
            --phis-color: #407CB1;
            --biom-color: #63C67A;
            --envi-color: #EAC443;
            --math-color: #5b6676;
            --phil-color: #C8C8C8;
        }

        body {
            display: table;
        }

        @media print {
            .pagebreak {
                page-break-before: always;
            }

            body {
                width: 21cm;
                height: 29.7cm;
                margin: 10mm 10mm 10mm 10mm;
                -webkit-print-color-adjust: exact !important;
            }
        }

        .x-half-small {
            font-size: 0.65rem;
        }

        .tech-bg { background-color: var(--tech-color); }
        .phis-bg { background-color: var(--phis-color); }
        .biom-bg { background-color: var(--biom-color); }
        .envi-bg { background-color: var(--envi-color); }
        .math-bg { background-color: var(--math-color); }
        .phil-bg { background-color: var(--phil-color); }


        .bachelor-bg { background-color: var(--bachelor-color); }
        .master-bg { background-color: var(--master-color); }
        .phd-bg { background-color: var(--phd-color); }
        .white-bg { background-color: white; }

        .standard-card {
            width: 46mm;
            height: 69mm;
        }

        .position-card {
            width: 48mm;
            height: 18mm;
        }

        .card-bg {
            background-color: var(--border-color);
            display: inline-block;
            position: relative;
        }

        .card {
            border: 2mm solid var(--border-color);
            border-radius: 4mm;
            box-sizing: border-box;
            width: 100%;
            height: 100%;
            position: relative;
            font-size: x-small;
            font-family: Helvetica, Arial, sans-serif;
        }

        .card-border {
            border: 2mm solid var(--border-color);
            border-radius: 4mm;
            box-sizing: border-box;
            width: 100%;
            height: 100%;
            font-size: x-small;
            z-index: 10;
            position: absolute;
            top: 0;
            left: 0;
        }

        .card-bg-icon {
            position: absolute;
            width: 100%;
            height: 100%;
            text-align: center;
            padding-top: 58%;
            font-size: xxx-large;
            opacity: 0.8;
        }
    </style>
    {{ scientist_css() }}
    {{ invention_css() }}
    {{ misc_css() }}
</head>

<body>
    {% for scientist in scientists %}
    {% if loop.index0 % 16 == 0 and loop.index0 %}
    <div class="pagebreak"></div>
    {% endif %}
    {{ scientist_card(scientist) }}
    {% endfor %}

    {% for icon in ['lightbulb', 'graduation-cap'] %}
    <div class="card-bg standard-card">
        <div class="card-bg-icon">
            <i class="fa-solid fa-{{ icon }}"></i>
        </div>
        <div class="card-border"></div>
    </div>
    {% endfor %}

    {% for invention in inventions %}
    {% if loop.index0 % 16 == 0 %}
    <div class="pagebreak"></div>
    {% endif %}
    {{ invention_card(invention) }}
    {% endfor %}

    <div class="pagebreak"></div>
    {% for position in ['Bachelor', 'Master', 'PhD'] %}
    {% for i in range(positions_num[position]) %}
    {{ position_card(position) }}
    {% endfor %}
    {% endfor %}

    <div class="pagebreak"></div>
    {% for icon in ['x'] %}
    {% for i in range(10) %}
    {{ coin(icon) }}
    {% endfor %}
    {% endfor %}

    {{ center_card() }}
</body>

</html>